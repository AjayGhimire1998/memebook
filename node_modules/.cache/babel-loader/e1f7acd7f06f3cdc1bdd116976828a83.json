{"ast":null,"code":"var _jsxFileName = \"/Users/ajayghimire/Development/code/React Projects/reactfinal-project/src/components/AppContents/CreateMeme.jsx\",\n    _s2 = $RefreshSig$();\n\nimport { ProfileContext } from \"../../context/ProfileContext\";\nimport { useContext, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { CreateMemeContext } from \"../../context/CreateMemeContext\";\nimport \"./CreateMeme.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateMeme() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [createMeme, setCreateMeme] = useContext(CreateMemeContext);\n  const [inputText, setInputText] = useState({});\n  const [imageForMeme, setImageForMeme] = useState();\n  const [imageLoad, setImageLoad] = useState(null);\n  const history = useHistory();\n\n  function SeePreview(e) {\n    if (e.target.files && e.target.files.length > 0) {\n      const src = e.target.files[0];\n      setImageForMeme(src);\n    }\n  }\n\n  const handleInputChange = e => {\n    setInputText({ ...inputText,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleReset = e => {\n    e.preventDefault();\n    setInputText({\n      topText: \"\",\n      bottomText: \"\"\n    });\n  };\n\n  const ConvertSvgToImage = () => {\n    _s();\n\n    let svgRef = useRef();\n    let svgData = new XMLSerializer().serializeToString(svgRef.current);\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"id\", \"canvas\");\n    const svgSize = svgRef.getBoundingClientRect();\n    canvas.width = svgSize.width;\n    canvas.height = svgSize.height;\n    const img = document.createElement(\"img\");\n    img.setAttribute(\"src\", \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(svgData))));\n\n    img.onload = function () {\n      canvas.getContext(\"2d\").drawImage(img, 0, 0);\n      const canvasdata = canvas.toDataURL(\"image/png\");\n      const a = document.createElement(\"a\");\n      a.download = \"meme.png\";\n      a.href = canvasdata;\n      document.body.appendChild(a);\n      a.click();\n    };\n  };\n\n  _s(ConvertSvgToImage, \"hBmswj7ndKUg9xiEeqZsAgaPoNM=\");\n\n  console.log(imageForMeme);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-show\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"post\",\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label-top\",\n          children: [\"Alright, Lets Create a Meme\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), \"\\uD83E\\uDD2D\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 18\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          forhtml: \"fullName\",\n          children: \"Top Text: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          rows: \"5\",\n          cols: \"20\",\n          value: inputText.topText,\n          name: \"topText\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 18\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          forhtml: \"fullName\",\n          children: \"Bottom Text: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          rows: \"5\",\n          cols: \"20\",\n          value: inputText.bottomText,\n          name: \"bottomText\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"file-ip\",\n          className: \"label\",\n          children: \"Choose Your Meme\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"creatingMeme\",\n          type: \"file\",\n          id: \"file-ip\",\n          accept: \"image/*\",\n          onChange: SeePreview,\n          hidden: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 18\n        }, this), imageForMeme ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"meme\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            id: \"svg_ref\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: URL.createObjectURL(imageForMeme),\n              alt: \"meme\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"top\",\n              children: inputText.topText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"bottom\",\n              children: inputText.bottomText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"reset-image\",\n          onClick: handleReset,\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"save-profile\" // onClick={handleUpload}\n          ,\n          disabled: imageLoad !== null && imageLoad < 100,\n          children: \"Generate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(CreateMeme, \"jX8OyVvG/29sw6JfMfwviWLk8HE=\", false, function () {\n  return [useHistory];\n});\n\n_c = CreateMeme;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateMeme\");","map":{"version":3,"sources":["/Users/ajayghimire/Development/code/React Projects/reactfinal-project/src/components/AppContents/CreateMeme.jsx"],"names":["ProfileContext","useContext","useRef","useState","useHistory","CreateMemeContext","CreateMeme","createMeme","setCreateMeme","inputText","setInputText","imageForMeme","setImageForMeme","imageLoad","setImageLoad","history","SeePreview","e","target","files","length","src","handleInputChange","name","value","handleReset","preventDefault","topText","bottomText","ConvertSvgToImage","svgRef","svgData","XMLSerializer","serializeToString","current","canvas","document","createElement","setAttribute","svgSize","getBoundingClientRect","width","height","img","btoa","unescape","encodeURIComponent","onload","getContext","drawImage","canvasdata","toDataURL","a","download","href","body","appendChild","click","console","log","URL","createObjectURL"],"mappings":"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","sourcesContent":["import { ProfileContext } from \"../../context/ProfileContext\";\nimport { useContext, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { CreateMemeContext } from \"../../context/CreateMemeContext\";\nimport \"./CreateMeme.css\";\n\nexport default function CreateMeme() {\n  const [createMeme, setCreateMeme] = useContext(CreateMemeContext);\n  const [inputText, setInputText] = useState({});\n  const [imageForMeme, setImageForMeme] = useState();\n  const [imageLoad, setImageLoad] = useState(null);\n  const history = useHistory();\n\n  function SeePreview(e) {\n    if (e.target.files && e.target.files.length > 0) {\n      const src = e.target.files[0];\n      setImageForMeme(src);\n    }\n  }\n\n  const handleInputChange = (e) => {\n    setInputText({ ...inputText, [e.target.name]: e.target.value });\n  };\n\n  const handleReset = (e) => {\n    e.preventDefault();\n    setInputText({\n      topText: \"\",\n      bottomText: \"\",\n    });\n  };\n\n  const ConvertSvgToImage = () => {\n    let svgRef = useRef()\n    let svgData = new XMLSerializer().serializeToString(svgRef.current);\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"id\", \"canvas\");\n    const svgSize = svgRef.getBoundingClientRect();\n    canvas.width = svgSize.width;\n    canvas.height = svgSize.height;\n    const img = document.createElement(\"img\");\n    img.setAttribute(\n      \"src\",\n      \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(svgData)))\n    );\n    img.onload = function () {\n      canvas.getContext(\"2d\").drawImage(img, 0, 0);\n      const canvasdata = canvas.toDataURL(\"image/png\");\n      const a = document.createElement(\"a\");\n      a.download = \"meme.png\";\n      a.href = canvasdata;\n      document.body.appendChild(a);\n      a.click();\n    };\n  };\n\n  console.log(imageForMeme);\n  return (\n    <div className=\"container\">\n      <div className=\"upload-show\">\n        <form method=\"post\" className=\"form\">\n          <label className=\"label-top\">\n            Alright, Lets Create a Meme\n            <br />\n            <br />\n            🤭\n          </label>\n          <br /> <br />\n          <br /> <br /> <br />\n          <label forhtml=\"fullName\">Top Text: </label>\n          <br /> <br />\n          <textarea\n            type=\"text\"\n            rows=\"5\"\n            cols=\"20\"\n            value={inputText.topText}\n            name=\"topText\"\n            onChange={handleInputChange}\n          ></textarea>\n          <br /> <br /> <br />\n          <label forhtml=\"fullName\">Bottom Text: </label>\n          <br /> <br />\n          <textarea\n            type=\"text\"\n            rows=\"5\"\n            cols=\"20\"\n            value={inputText.bottomText}\n            name=\"bottomText\"\n            onChange={handleInputChange}\n          ></textarea>\n          <br /> <br />\n          <br /> <br />\n          {/* <small>Upload Progress: {imageLoad}% done!!</small> */}\n          <br />\n          <label htmlFor=\"file-ip\" className=\"label\">\n            Choose Your Meme\n          </label>\n          <input\n            name=\"creatingMeme\"\n            type=\"file\"\n            id=\"file-ip\"\n            accept=\"image/*\"\n            onChange={SeePreview}\n            hidden\n          ></input>\n          <br /> <br />\n          {imageForMeme ? (\n            <div className=\"meme\">\n              <svg\n                id=\"svg_ref\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n              >\n                <img src={URL.createObjectURL(imageForMeme)} alt=\"meme\" />\n                <h2 className=\"top\">{inputText.topText}</h2>\n                <h2 className=\"bottom\">{inputText.bottomText}</h2>\n              </svg>\n            </div>\n          ) : null}\n          <br />\n          <button className=\"reset-image\" onClick={handleReset}>\n            Reset\n          </button>\n          <br /> <br />\n          <button\n            className=\"save-profile\"\n            // onClick={handleUpload}\n            disabled={imageLoad !== null && imageLoad < 100}\n          >\n            Generate\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}